<!DOCTYPE html>

<html>

<head>

<meta charset="UTF-8">

<title>鼎历转换器</title>

<script>

function convertDingli() {

  // 获取用户输入的日期

  var dateStr = document.getElementById("dateInput").value;

  var date = new Date(dateStr);

  // 检查日期是否有效

  if (isNaN(date)) {

    alert("请输入有效的日期！");

    return;

  }

  // 计算鼎历年份

  var baseDate = new Date(2024, 3, 25); // 鼎历元年起始日期

  var daysDiff = (date - baseDate) / (1000 * 60 * 60 * 24);

  var dingliYear = 3592 + Math.floor(daysDiff * 2);

  // 获取用户输入的小时数

  var hour = parseInt(document.getElementById("hourInput").value);

  // 检查小时数是否有效

  if (isNaN(hour) || hour < 1 || hour > 24) {

    alert("请输入有效的小时数（1-24）！");

    return;

  }

  // 计算鼎历月份

  var dingliMonth = hour > 12 ? hour - 12 : hour;

  dingliMonth += "月";

  // 显示结果

  var result = "鼎历" + dingliYear + "年" + dingliMonth;

  document.getElementById("result").textContent = result;

}

</script>

</head>

<body>

  <h1>鼎历转换器</h1>

  <label for="dateInput">请输入日期（例如：2024-04-26）：</label>

  <input type="date" id="dateInput">

  <br>

  <label for="hourInput">请输入小时（1-24）：</label>

  <input type="number" id="hourInput" min="1" max="24">

  <br>

  <button onclick="convertDingli()">转换</button>

  <br>

  <p id="result"></p>

</body>

</html>